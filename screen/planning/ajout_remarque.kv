MDScreen:
    name: 'ajout_remarque'

    MDFloatLayout:
        pos_hint: {'center_x': .5, 'center_y': .5}

        MDIconButton:
            icon: 'arrow-left'
            pos_hint:{"center_x":.02, "center_y":.97}
            on_release:
                app.dismiss_popup()
                app.fermer_ecran()

        MDLabel:
            id: titre
            text: 'Dératisation pour DevCorps pour le mois de mars'
            font_size: 18
            font_name: 'poppins'
            pos_hint:{"center_x":.6, "center_y":.97}

        MDLabel:
            id: date
            text: ''
            font_name: 'poppins'
            font_size: 16
            pos_hint:{"center_x":.55, "center_y":.9}

        MDLabel:
            id: duree
            text: 'Durée totale du traitement: 12 mois'
            font_name: 'poppins'
            font_size: 16
            pos_hint:{"center_x":.55, "center_y":.8}

        MDTextButton:
            text: 'Payé'
            font_name: 'poppins'
            font_size: 16
            pos_hint:{"center_x":.56, "center_y":.8}
            on_release:
                paye_facture.active = True if paye_facture.active is False else False
                app.on_check_press(paye_facture.active)

        MDCheckbox:
            id: paye_facture
            pos_hint: {"center_x": .51,'center_y':.8}
            size_hint: .07, .07
            checkbox_icon_down: 'check'
            on_active:
                app.on_check_press(paye_facture.active)

        MDTextButton:
            id: label_cheque
            text: 'Chèque'
            font_name: 'poppins'
            font_size: 16
            pos_hint:{"center_x":.71, "center_y":.8}
            opacity: 0
            disbaled : True
            on_release:
                app.activate_descri(paye_facture.active)
                cheque.active = True if cheque.active is False else False

        MDCheckbox:
            id: cheque
            pos_hint: {"center_x": .65,'center_y':.8}
            size_hint: .07, .07
            checkbox_icon_down: 'check'
            group: 'payement'
            opacity: 0
            active: True
            on_active:
                app.activate_descri(paye_facture.active)

        MDTextButton:
            id: label_virement
            text: 'Virement'
            font_name: 'poppins'
            font_size: 16
            pos_hint:{"center_x":.72, "center_y":.7}
            opacity: 0
            disbaled : True
            on_release:
                app.activate_descri(paye_facture.active)
                virement.active = True if virement.active is False else False

        MDCheckbox:
            id: virement
            pos_hint: {"center_x": .65,'center_y':.7}
            size_hint: .07, .07
            checkbox_icon_down: 'check'
            group: 'payement'
            opacity: 0
            active: True
            on_active:
                app.activate_descri(paye_facture.active)

        MDTextButton:
            id: label_espece
            text: 'Espèce'
            font_name: 'poppins'
            font_size: 16
            pos_hint:{"center_x":.85, "center_y":.8}
            opacity: 0
            disbaled : True
            on_release:
                espece.active = True if espece.active is False else False

        MDCheckbox:
            id: espece
            pos_hint: {"center_x": .79,'center_y':.8}
            size_hint: .07, .07
            checkbox_icon_down: 'check'
            group: 'payement'
            opacity: 0

        MDTextButton:
            id: label_money
            text: 'Mobile money'
            font_name: 'poppins'
            font_size: 16
            pos_hint:{"center_x":.88, "center_y":.7}
            opacity: 0
            disbaled : True
            on_release:
                mobile_money.active = True if mobile_money.active is False else False

        MDCheckbox:
            id: mobile_money
            pos_hint: {"center_x": .79,'center_y':.7}
            size_hint: .07, .07
            checkbox_icon_down: 'check'
            group: 'payement'
            opacity: 0

        MDLabel:
            id: mois_trait
            text: ' '
            font_name: 'poppins'
            font_size: 16
            pos_hint:{"center_x":1, "center_y":.9}

        MDTextField:
            id: numero_facture
            text_color_normal: 'black'
            mode: 'fill'
            hint_text: 'Numéro facture'
            hint_text_color : 'black'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.25,"center_y":.33}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .4,None
            radius:[5]
            disabled: True
            opacity: 0

        MDTextField:
            id: date_payement
            text_color_normal: 'black'
            mode: 'fill'
            hint_text: 'Date de payement'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.75,"center_y":.33}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .4,None
            radius:[5]
            disabled: True
            opacity:  0
            readonly: True
            on_focus:
                app.calendrier('ajout_remarque', 'date_payement')

        MDIconButton:
            id: icon
            icon: 'Assets/calendar.png'
            pos_hint:{"center_x": .92, "center_y":.32}
            disabled: True
            opacity: 0
            on_release:
                app.calendrier('ajout_remarque', 'date_payement')

        MDTextField:
            id: remarque
            text_color_normal: 'black'
            mode: 'fill'
            hint_text: 'Votre remarque'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.5,"center_y":.47}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .9,None
            radius:[5]

        MDTextField:
            id: probleme
            text_color_normal: 'black'
            mode: 'fill'
            hint_text: 'Problème'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.25,"center_y":.6}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .4,None
            radius:[5]

        MDTextField:
            id: action
            text_color_normal: 'black'
            mode: 'fill'
            hint_text: 'Action entreprise'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.75,"center_y":.6}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .4,None
            radius:[5]

        MDTextField:
            id: etablissement
            text_color_normal: 'black'
            mode: 'fill'
            hint_text: 'Établissement'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.25,"center_y":.19}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .4,None
            radius:[5]
            disabled: True
            opacity: 0

        MDTextField:
            id: num_cheque
            text_color_normal: 'black'
            mode: 'fill'
            hint_text: 'Numéro du chéque'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.75,"center_y":.19}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .4,None
            radius:[5]
            disabled: True
            opacity: 0

        MDRectangleFlatButton
            text: 'Annuler'
            font_name: 'poppins'
            text_color: 'black'
            md_bg_color: '#FF3333'
            line_color: '#FF3333'
            size_hint: .25, None
            pos_hint: {'center_x': .3, 'center_y': .08}
            on_release:
                app.fermer_ecran()
                app.dismiss_popup()

        MDRectangleFlatButton
            text: 'Enregistrer'
            font_name: 'poppins'
            text_color: 'black'
            md_bg_color: 'white'
            line_color: 'white'
            size_hint: .25, None
            pos_hint: {'center_x': .7, 'center_y': .08}
            on_release:
                app.create_remarque()