MDScreen:
    name: 'new_contrat'
    size_hint: None, None
    height: '370dp'
    width: '1000dp'
    pos_hint: {'center_x':.5, 'center_y': .5}
    MDFloatLayout:
        pos_hint: {'center_x':.5, 'center_y': .5}

        MDLabel:
            text: 'Numéro du contrat'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .55,'center_y':1.07}

        MDTextField:
            id: num_new_contrat
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.17,"center_y":.95}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            radius:[10]

        MDLabel:
            text: 'Date du contrat'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .55,'center_y':.82}

        MDTextField:
            id: date_new_contrat
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.17,"center_y":.7}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            readonly:True
            radius:[10]
            on_focus:
                app.calendrier('new_contrat', 'date_new_contrat')

        MDIconButton:
            icon: 'Assets/calendar.png'
            pos_hint:{"center_x": .27, "center_y":.7}
            on_release:
                app.calendrier('new_contrat', 'date_new_contrat')

        MDLabel:
            text: 'Début du contrat'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .88,'center_y':.82}

        MDTextField:
            id: debut_new_contrat
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.5,"center_y":.7}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            readonly:True
            radius:[10]
            on_focus:
                app.calendrier('new_contrat', 'debut_new_contrat')

        MDIconButton:
            icon: 'Assets/calendar.png'
            pos_hint:{"center_x": .6, "center_y":.7}
            on_release:
                app.calendrier('new_contrat', 'debut_new_contrat')

        MDLabel:
            id: label_fin
            text: 'Fin du contrat'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": 1.21,'center_y':.82}

        MDTextField:
            id: fin_new_contrat
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.83,"center_y":.7}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            readonly:True
            radius:[10]
            on_focus:
                app.calendrier('new_contrat', 'fin_new_contrat')

        MDIconButton:
            id: fin_icon
            icon: 'Assets/calendar.png'
            pos_hint:{"center_x": .93, "center_y":.7}
            on_release:
                app.calendrier('new_contrat', 'fin_new_contrat')

        MDLabel:
            text: 'Type de traitement'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .55,'center_y':.55}

        MDCheckbox:
            id: deratisation
            pos_hint: {"center_x": .02,'center_y':.45}
            size_hint: .07, .07
            checkbox_icon_down: 'check'

        MDLabel:
            text: 'Dératisation'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .54,'center_y':.45}

        MDCheckbox:
            id: desinfection
            pos_hint: {"center_x": .02,'center_y':.3}
            size_hint: .07, .07
            checkbox_icon_down: 'check'

        MDLabel:
            text: 'Désinfection'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .54,'center_y':.3}

        MDCheckbox:
            id: desinsectisation
            pos_hint: {"center_x": .18,'center_y':.45}
            size_hint: .07, .07
            checkbox_icon_down: 'check'

        MDLabel:
            text: 'Désinsectisation'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .7,'center_y':.45}

        MDCheckbox:
            id: nettoyage
            pos_hint: {"center_x": .02,'center_y':.0}
            size_hint: .05, .07
            checkbox_icon_down: 'check'

        MDLabel:
            text: 'Nettoyage Industriel'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .54,'center_y':.0}

        MDCheckbox:
            id: ramassage
            pos_hint: {"center_x": .18,'center_y':.3}
            size_hint: .05, .07
            checkbox_icon_down: 'check'

        MDLabel:
            text: 'Fumigation'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .7,'center_y':.15}

        MDCheckbox:
            id: anti_ter
            pos_hint: {"center_x": .02,'center_y':.15}
            size_hint: .07, .07
            checkbox_icon_down: 'check'

        MDLabel:
            text: 'Anti termites'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .54,'center_y':.15}

        MDCheckbox:
            id: fumigation
            pos_hint: {"center_x": .18,'center_y':.15}
            size_hint: .05, .07
            checkbox_icon_down: 'check'

        MDLabel:
            text: "Ramassage ordures "
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .7,'center_y':.3}

        MDLabel:
            text: 'Durée du contrat'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .88,'center_y':.52}

        MDTextField:
            id: duree_new_contrat
            text: 'Déterminée'
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.5,"center_y":.4}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            radius:[10]

        MDIconButton:
            icon: 'chevron-down'
            pos_hint:{"center_x": .6, "center_y":.4}
            on_release:
                app.dropdown_new_contrat(self, 'duree_new_contrat', 'new_contrat')

        MDLabel:
            text: 'Catégorie du contrat'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": 1.21,'center_y':.52}

        MDTextField:
            id: cat_contrat
            text: 'Nouveau'
            mode: 'fill'
            font_name:"poppins"
            pos_hint:{"center_x":.83,"center_y":.4}
            text_color_normal: 'black'
            text_color_focus: 'black'
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            radius:[10]
            readonly: True

        MDIconButton:
            icon: 'chevron-down'
            pos_hint:{"center_x": .93, "center_y":.4}
            on_release:
                app.dropdown_new_contrat(self, 'cat_contrat', 'new_contrat')

        MDRectangleFlatButton:
            text: 'Continuer'
            text_color: 'black'
            font_name: 'poppins'
            font_size: 15
            size_hint: .2, None
            pos_hint: {'center_x':.85, 'center_y': .05}
            md_bg_color: '#B3F844'
            line_color: '#B3F844'
            on_release:
                app.enregistrer_contrat(num_new_contrat.text,date_new_contrat.text, debut_new_contrat.text, fin_new_contrat.text, duree_new_contrat.text, cat_contrat.text)

        MDRectangleFlatButton:
            text: 'Annuler'
            text_color: 'black'
            font_name: 'poppins'
            font_size: 15
            size_hint: .2, None
            pos_hint: {'center_x':.5, 'center_y': .05}
            md_bg_color: '#FF3333'
            line_color: '#FF3333'
            on_release:
                app.fermer_ecran()
                app.clear_fields('new_contrat')