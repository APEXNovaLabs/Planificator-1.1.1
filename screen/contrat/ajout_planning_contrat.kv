MDScreen:
    name: 'ajout_planning'
    size_hint: None, None
    height: '370dp'
    width: '1000dp'
    pos_hint: {'center_x':.5, 'center_y': .5}

    MDFloatLayout:
        pos_hint: {'center_x':.5, 'center_y': .5}

        MDLabel:
            text: 'Mois de début du traitement'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .55,'center_y':.92}

        MDTextField:
            id: mois_date
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.17,"center_y":.8}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            radius:[10]

        MDLabel:
            id: label_fin_planning
            text: 'Mois de fin du traitement'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .88,'center_y':.92}

        MDTextField:
            id: mois_fin
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.5,"center_y":.8}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            radius:[10]

        MDLabel:
            text: 'Axe concerné'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": 1.21,'center_y':.92}

        MDTextField:
            id: axe_client
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.83,"center_y":.8}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            radius:[10]
            readonly: True

        MDLabel:
            text: 'Type de traitement'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .55,'center_y':.62}

        MDTextField:
            id: type_traitement
            text: ''
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.17,"center_y":.5}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            radius:[10]
            readonly: True

        MDLabel:
            text: 'Date prévu pour les traitements'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .88,'center_y':.62}

        MDTextField:
            id: date_prevu
            text: ''
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.5,"center_y":.5}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            radius:[10]

        MDIconButton:
            icon: 'Assets/calendar.png'
            pos_hint:{"center_x": .6, "center_y":.5}
            on_release:
                app.calendrier('ajout_planning', 'date_prevu')

        MDLabel:
            text: 'Redondance du traitement'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": 1.21,'center_y':.62}

        MDTextField:
            id: red_trait
            text: '1 mois'
            mode: 'fill'
            text_color_normal: 'black'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.83,"center_y":.5}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            radius:[10]
            readonly :True

        MDIconButton:
            icon: 'chevron-down'
            pos_hint:{"center_x": .93, "center_y":.5}
            on_release:
                app.dropdown_new_contrat(self, 'red_trait', 'ajout_planning')

        MDRectangleFlatButton:
            text: 'Passer à la facture'
            text_color: 'black'
            font_name: 'poppins'
            font_size: 15
            size_hint: .3, None
            pos_hint: {'center_x':.7, 'center_y': .2}
            md_bg_color: '#B3F844'
            line_color: '#B3F844'
            on_release:
                app.gestion_planning()

        MDRectangleFlatButton:
            text: 'Annuler'
            text_color: 'black'
            font_name: 'poppins'
            font_size: 15
            size_hint: .3, None
            pos_hint: {'center_x':.3, 'center_y': .2}
            md_bg_color: '#FF3333'
            line_color: '#FF3333'
            on_release:
                app.fermer_ecran()
                app.dismiss_popup()
